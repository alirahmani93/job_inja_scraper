{% extends 'admin/change_list.html' %}
{% block content %}

    <div>
        <ul class="object-tools">
            <li id="get-data-li">
                <div>
                    <div>
                        <label style="display: flex">
                            <input id="search" type="text" name="search" placeholder="ex. python">
                        </label>
                        <a id="get-data-a"
                           class="addLink"
                           href="/get-data/?next=/admin/app/job/"
                           onclick="MyFunc()"
                        >Get Data</a>
                    </div>
                    <div>
                        <a id="get-detail-data-a"
                           class="addLink"
                           href="/get-detail-data/?next=/admin/app/job/"
                           onclick="MyFunc()"
                        >Get Detail Data
                        </a>
                    </div>
                </div>
            </li>
        </ul>
    </div>
    <br/>
    <br/>
    <br/>
    <br/>
    <br/>
    <script>
        function MyFunc() {
            send = document.getElementById('get-data-a');
            req = document.getElementById('search');
            let url = new URL('/get-data/?next=admin/app/job/');
            url.searchParams.append('title', req.nodeValue);
            console.log(url)
        }
    </script>
    <script>
        function MyFunc() {
            send = document.getElementById('get-detail-data-a');
            req = document.getElementById('search');
            let url = new URL('/get-detail-data/?next=admin/app/job/');
            console.log(url)
        }
    </script>
    <script>
        window.onload = (e) => {
            x = document.getElementsByClassName('object-tools');
            z = document.createElement('a');
            z.classList.add('addLink');
            z.href = '';
            x.appendChild(z);
        }
    </script>
    {{ block.super }}

{% endblock %}

